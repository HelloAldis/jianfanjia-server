<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>互联网首个设计师专单平台|装修效果图|装修流程|施工监理_简繁家</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="简繁家提供家装设计、新房装修、装修流程、室内设计、家装设计、室内装修、施工监理等服务和装修知识、装修风格、装修效果图、装修设计图等信息。">
	<meta name="keywords" content="室内装修,装修流程,装修知识,装修效果图,家装施工监理">
	<link rel="stylesheet" type="text/css" href="../../static/css/public.css" />
	<link rel="stylesheet" type="text/css" href="../../static/css/user.css" />
	<script type="text/javascript" src="../../static/js/lib/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="../../static/js/lib/tdist.js"></script>
	<script type="text/javascript" src="../../static/js/lib/public.js"></script>
	<script type="text/javascript" src="../../static/js/lib/jquery.uploadify-3.1.js"></script>
	<script type="text/javascript" src="../../static/js/lib/jquery.Huploadify.js"></script>
</head>
<body>
	<div class="g-hd">
		<div class="g-wp f-cb">
			<div class="m-logo f-fl">
				<h1><a href="../index/index.html">简繁家</a></h1>
			</div>
			<div class="f-fr">
				<div class="user" id="j-userLogin">
					<a href="../user/login.html">登录</a>/<a href="../user/reg.html">注册</a>
				</div>
				<ul class="m-nav f-fl">
					<li class="active"><a href="../index/index.html">首页</a></li>
					<li><a href="../design/index.html">设计师</a></li>
					<li><a href="../live/index.html">装修直播</a></li>
					<li><a href="../merit/index.html">为什么选简繁家</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="g-wp g-user f-cb">
		<div class="user-sd f-fl">
			<h2>我是设计师</h2>
			<ul>
				<li class="current"><a href="design.html">我的作品</a></li>
				<li><a href="design_owner.html">我的业主</a></li>
				<li><a href="design_scheme.html">业主方案</a></li>
				<li><a href="design_need.html">我的收藏</a></li>
				<li><a href="design_info.html">我的资料</a></li>
				<li><a href="design_team.html">我的施工团队</a></li>
			</ul>
		</div>
		<div class="user-mn f-fr" id="j-design">
			<div class="m-tt">
				<ul class="tabNav">
					<li class="active hide">我的作品</li>
					<li class="active">发布作品</li>
				</ul>
			</div>
			<div class="m-ct design">
				<div class="tabBox">
					<div class="listBox hide">
						<div class="m-table">
							<table>
								<thead>
									<tr>
										<th class="td1">标题</th>
										<th class="td2">住宅空间</th>
										<th class="td3">风格</th>
										<th class="td4">包工类型</th>
										<th class="td5">预览</th>
										<th class="td6">操作</th>	
									</tr>
								</thead>
								<tbody></tbody>
							</table>
						</div>
						<div class="create">
							<a href="" class="btn create-btn">添加作品</a>
						</div>
					</div>
					<div class="listBox">
						<div class="w-form user-form">
							<form action="http://www.jianfanjia.com" id="design-product" method="get">
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-area">所在地区：</label>
										<div class="u-inp">
											<div class="m-cities" id="product-area"></div>
										</div>
									</div>
									<p class="tips-info hide"></p>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product_name">小区名称：</label>
										<div class="u-inp">
											<div class="box">
												<input type="text" class="input" name="product_name" id="product_name" />
											</div>
										</div>
									</div>
									<p class="tips-icon tips-icon-ok hide"><i class="iconfont">&#xe616;</i></p>
									<p class="tips-icon tips-icon-err hide"><i class="iconfont">&#xe611;</i></p>
									<p class="tips-info hide"></p>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-house-type">装修户型：</label>
										<div class="u-inp">
											<div class="m-select" id="product-house-type"></div>
										</div>
									</div>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-dec-area">装修面积：</label>
										<div class="u-inp">
											<div class="box">
												<input type="text" class="input" name="product-dec-area" id="product-dec-area" />
												<span class="unit">m&sup2;</span>
											</div>
										</div>
									</div>
									<p class="tips-icon tips-icon-ok hide"><i class="iconfont">&#xe616;</i></p>
									<p class="tips-icon tips-icon-err hide"><i class="iconfont">&#xe611;</i></p>
									<p class="tips-info hide"></p>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-dec-style">装修风格：</label>
										<div class="u-inp">
											<div class="m-select" id="product-dec-style"></div>
										</div>
									</div>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-dec-type">装修类型：</label>
										<div class="u-inp">
											<div class="m-select" id="product-dec-type"></div>
										</div>
									</div>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-work-type">包工类型：</label>
										<div class="u-inp">
											<div class="m-select" id="product-work-type"></div>
										</div>
									</div>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-price">装修造价：</label>
										<div class="u-inp">
											<div class="box">
												<input type="text" class="input" name="product-price" id="product-price" />
												<span class="unit">万元</span>
											</div>
										</div>
									</div>
									<p class="tips-icon tips-icon-ok hide"><i class="iconfont">&#xe616;</i></p>
									<p class="tips-icon tips-icon-err hide"><i class="iconfont">&#xe611;</i></p>
									<p class="tips-info hide"></p>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="product-description">作品引言：</label>
										<div class="u-inp">
											<div class="textarea"><textarea name="product-description" id="product-description" cols="30" rows="10"></textarea></div>
										</div>
									</div>
								</div>
								<div class="m-item f-cb">
									<div class="item">
										<label class="u-lab" for="work_type">上传平面图：</label>
										<div class="u-inp">
											<div class="file">
												<p class="tips">*作品上传每张大小为1M以内</p>
												<div class="file-list f-cb" id="j-file-list">
													<div class="create-item">
														<div class="pic" id="upload">
															<div class="fileBtn">
																<input class="hide" id="fileToUpload" type="file" name="upfile">
																<p class="hide"><a href="javascript:$('#fileToUpload').uploadify('settings', 'formData', {'typeCode':document.getElementById('id_file').value});$('#fileToUpload').uploadify('upload','*')">上传</a>
																<a href="javascript:$('#fileToUpload').uploadify('cancel','*')">重置上传队列</a>
																</p>
																<input type="hidden" id="sessionId" value="${pageContext.session.id}" />
																<input type="hidden" value="1215154" name="tmpdir" id="id_file">
															</div>
															<img src="../../static/img/user/uploadify.jpg" alt="" />
														</div>
													</div>
													<div class="previews-item">
														<div class="pic"></div>
														<div class="m-select" id="itme_type1"></div>
														<div class="textarea"><textarea name="itme_con" cols="30" rows="10"></textarea></div>
													</div>
													<div class="previews-item">
														<div class="pic"></div>
														<div class="m-select" id="itme_type2"></div>
														<div class="textarea"><textarea name="itme_con" cols="30" rows="10"></textarea></div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="m-item m-error-info hide">
								</div>
								<div class="m-item">
									<div class="u-btn">
										<input type="submit" class="btn" id="login-submit" value="发布作品" />
									</div>
								</div>
							</form>
						</div>		
					</div>
				</div>
			</div>
		</div>	
	</div>
	<div class="g-ft">
		<div class="m-sitemap f-cb">
			<div class="g-wp">
				<div class="sitemap f-fl">
					<dl>
						<dt>业主指南</dt>
						<dd><a href="">提交需求</a></dd>
						<dd><a href="">预约设计师</a></dd>
					</dl>
					<dl>
						<dt>设计师指南</dt>
						<dd><a href="">设计师认证</a></dd>
						<dd><a href="">入驻协议</a></dd>
						<dd><a href="">上传作品</a></dd>
						<dd><a href="">上门量房</a></dd>
					</dl>
					<dl>
						<dt>关于我们</dt>
						<dd><a href="">关于我们</a></dd>
						<dd><a href="">联系我们</a></dd>
					</dl>
				</div>
				<div class="erweima f-fr">
					<img src="../../img/public/erweima.jpg" alt="" />
				</div>
			</div>
		</div>
		<div class="m-copy">
			<div class="g-wp">
			Copyright © 2015-2025 jianfanjia.com All Rights Reserved 武汉家易装科技有限公司 隐私权政策 鄂ICP备15014103号
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../../static/js/user/design.js"></script>
</body>
</html>
<script type="text/javascript">
	var designArea = new CitySelect({id :'product-area'});
	var dec_house_type = new ComboBox({
		id : 'product-house-type',
		list : globalData.house_type,
		index :true
	});
	var dec_style = new ComboBox({
		id : 'product-dec-style',
		list : globalData.dec_style,
		index :true
	});
	var dec_type = new ComboBox({
		id : 'product-dec-type',
		list : globalData.dec_type,
		index :true
	});
	var work_type = new ComboBox({
		id : 'product-work-type',
		list : globalData.work_type,
		index :true
	});
	var itme_typeArr = ['客厅','卧室','卫生间','餐厅','书房','厨房','厨房','儿童房','阳台','衣帽间','玄关','过道','休闲区','花园','地下室','窗台','楼梯','阁楼'];
	var itme_type = new  ComboBox({
		id : 'itme_type',
		list : itme_typeArr,
		editor : true
	});
	var itme_type1 = new  ComboBox({
		id : 'itme_type1',
		list : itme_typeArr,
		editor : true
	});
	var itme_type2 = new  ComboBox({
		id : 'itme_type2',
		list : itme_typeArr,
		editor : true
	});
</script>
<script type="text/javascript">
//获取HTML5特性支持情况
	//图片上传
	var img_id_upload=[];//初始化数组，存储已经上传的图片名
	var i=0;//初始化数组下标
	var checkSupport = function(){
		var input = document.createElement('input');
		var fileSupport = !!(window.File && window.FileList);
		var xhr = new XMLHttpRequest();
		var fd = !!window.FormData;
		return 'multiple' in input && fileSupport && 'onprogress' in xhr && 'upload' in xhr && fd ? 'html5' : 'flash';
	};
	var uploaderUrl = RootUrl+'api/v1/image/upload';
	if(checkSupport() === "html5"){
		$('#upload').Huploadify({
			auto:true,
			fileTypeExts:'*.jpg;*.png',
			multi:true,
			formData:{key:123456,key2:'vvvv'},
			fileSizeLimit:1024,
			showUploadedPercent:true,//是否实时显示上传的百分比，如20%
			showUploadedSize:true,
			removeTimeout:1,
			fileObjName:'Filedata',
			buttonText : "",
			uploader:uploaderUrl,
			onUploadComplete:function(file, data, response){
				callbackImg(data)
			},
			onDelete:function(file){
				console.log('删除的文件：'+file);
				console.log(file);
			}
		});
	}else{
		$('#fileToUpload').uploadify({
	    	'auto'     : true,//关闭自动上传
	    	'removeTimeout' : 1,//文件队列上传完成1秒后删除
	        'swf'      : 'uploadify.swf',
	        'uploader' : RootUrl+'api/v1/image/upload',
	        'method'   : 'post',//方法，服务端可以用$_POST数组获取数据
			'buttonText' : '',//设置按钮文本
	        'multi'    : true,//允许同时上传多张图片
	        'uploadLimit' : 10,//一次最多只允许上传10张图片
	        'width' : 250,
	        'height' : 250,
	        'fileTypeDesc' : 'Image Files',//只允许上传图像
	        'fileTypeExts' : '*.gif; *.jpg; *.png',//限制允许上传的图片后缀
	        'fileSizeLimit' : '1024KB',//限制上传的图片不得超过200KB 
	        'onUploadSuccess' : function(file, data, response) {//每次成功上传后执行的回调函数，从服务端返回数据到前端
	               callbackImg(data)
	        },
	        'onQueueComplete' : function(queueData) {//上传队列全部完成后执行的回调函数
	           // if(img_id_upload.length>0)
	           // alert('成功上传的文件有：'+encodeURIComponent(img_id_upload));
	        }
	    });
	}
	var iCounter = 0;
	function callbackImg(arr){
		var data = $.parseJSON(arr);
		iCounter++;
		$('#userHead').attr('src',RootUrl+'api/v1/image/'+data.data).data('img',data.data);
		var str = '<div class="previews-item">'
			+'<div class="pic" id="upload'+iCounter+'">'
				+'<div class="fileBtn">'
					+'<input class="hide" id="fileToUpload'+iCounter+'" type="file" name="upfile">'
					+'<input type="hidden" id="sessionId" value="${pageContext.session.id}" />'
					+'<input type="hidden" value="1215154" name="tmpdir" id="id_file">'
				+'</div>'
				+'<img class="img" src="'+RootUrl+'api/v1/image/'+data.data+'" alt="" />'
			+'</div>'
			+'<div class="m-select" id="itme_type1"></div>'
			+'<div class="textarea"><textarea name="itme_con" cols="30" rows="10"></textarea></div>'
		+'</div>'
		$('#j-file-list').append(str)
	}
</script>
