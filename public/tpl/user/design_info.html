<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>互联网首个设计师专单平台|装修效果图|装修流程|施工监理_简繁家</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="简繁家提供家装设计、新房装修、装修流程、室内设计、家装设计、室内装修、施工监理等服务和装修知识、装修风格、装修效果图、装修设计图等信息。">
	<meta name="keywords" content="室内装修,装修流程,装修知识,装修效果图,家装施工监理">
	<link rel="stylesheet" type="text/css" href="../../static/css/public.css" />
	<link rel="stylesheet" type="text/css" href="../../static/css/user.css" />
	<script type="text/javascript" src="../../static/js/lib/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="../../static/js/lib/tdist.js"></script>
	<script type="text/javascript" src="../../static/js/lib/public.js"></script>
	<script type="text/javascript" src="../../static/js/lib/jquery.uploadify-3.1.js"></script>
</head>
<body>
	<div class="g-hd">
		<div class="g-wp f-cb">
			<div class="m-logo f-fl">
				<h1><a href="../index/index.html">简繁家</a></h1>
			</div>
			<div class="f-fr">
				<div class="user" id="j-userLogin">
					<a href="../user/login.html">登录</a>/<a href="../user/reg.html">注册</a>
				</div>
				<ul class="m-nav f-fl">
					<li class="active"><a href="../index/index.html">首页</a></li>
					<li><a href="../design/index.html">设计师</a></li>
					<li><a href="../live/index.html">装修直播</a></li>
					<li><a href="../merit/index.html">为什么选简繁家</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="g-wp g-user f-cb">
		<div class="user-sd f-fl">
			<h2>我是设计师</h2>
			<ul>
				<li><a href="design.html">我的作品</a></li>
				<li><a href="design_owner.html">我的业主</a></li>
				<li><a href="design_scheme.html">业主方案</a></li>
				<li><a href="design_need.html">我的收藏</a></li>
				<li class="current"><a href="design_info.html">我的资料</a></li>
				<li><a href="design_team.html">我的施工团队</a></li>
			</ul>
		</div>
		<div class="user-mn f-fr">
			<div class="m-tt">
				<h3>我的资料</h3>
			</div>
			<div class="m-ct">
				<div class="w-form user-form design_info" id="j-design-info">
					<form action="http://www.jianfanjia.com" id="design-info" method="PUT">
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-name">姓&nbsp;&nbsp;&nbsp;名：</label>
								<div class="u-inp">
									<div class="box">
										<input type="text" class="input" name="design-name" id="design-name" />
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-sex">性&nbsp;&nbsp;&nbsp;别：</label>
								<div class="u-inp">
									<div class="sex" id="design-sex">
										<label><input type="radio" name="design-sex" value="0" />男</label>
										<label><input type="radio" name="design-sex" value="1" />女</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-mobile">手机号码：</label>
								<div class="u-inp">
									<div class="box">
										<input type="text" class="input" name="design-mobile" id="design-mobile" />
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-area">所在地区：</label>
								<div class="u-inp">
									<div class="m-cities" id="design-area"></div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-addr">邮寄详细地址：</label>
								<div class="u-inp">
									<div class="box">
										<input type="text" class="input" name="design-addr" id="design-addr" />
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-uid">身份证号码：</label>
								<div class="u-inp">
									<div class="box">
										<input type="text" class="input" name="design-uid" id="design-uid" />
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-com">就职装饰公司：</label>
								<div class="u-inp">
									<div class="box">
										<input type="text" class="input" name="design-com" id="design-com" />
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="dec_area">装修类别：</label>
								<div class="u-inp">
									<div class="check" id="decoration-type">
										<label><input type="checkbox" name="decoration-type0" value="0" />家装</label>
										<label><input type="checkbox" name="decoration-type1" value="1" />商装</label>
										<label><input type="checkbox" name="decoration-type2" value="2" />软装</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item more">
								<label class="u-lab" for="work_type">擅长风格（最多3项）：</label>
								<div class="u-inp">
									<div class="check" id="decoration-style">
										<label><input type="checkbox" name="decoration-style0" value="0" />欧式风格</label>
										<label><input type="checkbox" name="decoration-style1" value="1" />中式风格</label>
										<label><input type="checkbox" name="decoration-style2" value="2" />现代风格</label>
										<label><input type="checkbox" name="decoration-style3" value="3" />地中海风格</label>
										<label><input type="checkbox" name="decoration-style4" value="4" />美式风格</label>
										<label><input type="checkbox" name="decoration-style5" value="5" />东南亚风格</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="decoration-area">接单区域：</label>
								<div class="u-inp">
									<div class="check" id="decoration-area">
										<label><input type="checkbox" name="decoration-area0" value="0" />武昌</label>
										<label><input type="checkbox" name="decoration-area1" value="1" />汉口</label>
										<label><input type="checkbox" name="decoration-area2" value="2" />汉阳</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item long">
								<label class="u-lab" for="design-price">设计费报价（元/m&sup2;）:</label>
								<div class="u-inp">
									<div class="sex" id="design-price">
										<label><input type="radio" name="design-price" value="0" checked="checked" />50-100</label>
										<label><input type="radio" name="design-price" value="1" />100-200</label>
										<label><input type="radio" name="design-price" value="2" />200-300</label>
										<label><input type="radio" name="design-price" value="3" />300以上</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item long">
								<label class="u-lab" for="dec_type">施工费报价（元/m&sup2;）：</label>
								<div class="u-inp">
									<div class="check">
										<ul>
											<li>
												半包<span><input type="text" name="decoration-price0" id="decoration-price0" value="" /></span>元以上
											</li>
											<li>全包<span><input type="text" name="decoration-price1" id="decoration-price1" value="" /></span>元以上
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item">
								<label class="u-lab" for="design-type">习惯沟通方式：</label>
								<div class="u-inp">
									<div class="sex" id="design-type">
										<label><input type="radio" name="design-type" value="0" checked="checked" />不限</label>
										<label><input type="radio" name="design-type" value="1" />表达型</label>
										<label><input type="radio" name="design-type" value="2" />聆听型</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item more">
								<label class="u-lab" for="work_type">意向接单户型：</label>
								<div class="u-inp">
									<div class="check" id="decoration-style">
										<label><input type="checkbox" name="decoration-style0" value="0" checked="checked" />一居</label>
										<label><input type="checkbox" name="decoration-style1" value="1" checked="checked" />二居</label>
										<label><input type="checkbox" name="decoration-style2" value="2" checked="checked" />三居</label>
										<label><input type="checkbox" name="decoration-style3" value="3" checked="checked" />四居</label>
										<label><input type="checkbox" name="decoration-style4" value="4" checked="checked" />复式</label>
										<label><input type="checkbox" name="decoration-style5" value="5" checked="checked" />别墅</label>
									</div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item more">
								<label class="u-lab" for="work_type">设计理念：<span>(显示在主页显著位置，迅速建立别人对你的第一映像！)</span></label>
								<div class="u-inp">
									<div class="textarea"><textarea name="design-philosophy" id="design-philosophy" cols="30" rows="10"></textarea></div>
								</div>
							</div>
						</div>
						<div class="m-item f-cb">
							<div class="item more">
								<label class="u-lab" for="work_type">设计成就：<span>(在这里介绍关与你的经历，你的荣誉，当然还有你的梦想，或许可以讲讲故事，多多利用这里给自己加分哦！)</span></label>
								<div class="u-inp">
									<div class="textarea"><textarea name="design-achievement" id="design-achievement" cols="30" rows="10"></textarea></div>
								</div>
							</div>
						</div>
						<div class="m-item">
							<div class="text">我的作品：<span id="product-count">4个</span></div>
						</div>
						<div class="fileBox">
							<div class="pic" id="upload">
								<img src="" alt="" />
							</div>
							<p>请上传350*500 我的头像</p>
							<input id="fileToUpload" type="file" name="upfile">
								<p><a href="javascript:$('#fileToUpload').uploadify('settings', 'formData', {'typeCode':document.getElementById('id_file').value});$('#fileToUpload').uploadify('upload','*')">上传</a>
<a href="javascript:$('#fileToUpload').uploadify('cancel','*')">重置上传队列</a>
</p>
<input type="hidden" value="1215154" name="tmpdir" id="id_file">
						</div>
						<div class="m-item m-error-info hide">
						</div>
						<div class="m-item">
							<div class="u-btn">
								<input type="submit" class="btn" id="save-submit" value="保存" />
								<span id="auth-box">
								<input type="submit" class="btn" id="auth-submit" value="提交认证" /><span>(验证通过的设计师才能在平台显示)</span></span>
							</div>
						</div>
					</form>
				</div>	
			</div>
		</div>	
	</div>
	<style type="text/css">
		.design_info .btn{margin-left: 0;}
	</style>
	<div class="g-ft">
		<div class="m-sitemap f-cb">
			<div class="g-wp">
				<div class="sitemap f-fl">
					<dl>
						<dt>业主指南</dt>
						<dd><a href="">提交需求</a></dd>
						<dd><a href="">预约设计师</a></dd>
					</dl>
					<dl>
						<dt>设计师指南</dt>
						<dd><a href="">设计师认证</a></dd>
						<dd><a href="">入驻协议</a></dd>
						<dd><a href="">上传作品</a></dd>
						<dd><a href="">上门量房</a></dd>
					</dl>
					<dl>
						<dt>关于我们</dt>
						<dd><a href="">关于我们</a></dd>
						<dd><a href="">联系我们</a></dd>
					</dl>
				</div>
				<div class="erweima f-fr">
					<img src="../../img/public/erweima.jpg" alt="" />
				</div>
			</div>
		</div>
		<div class="m-copy">
			<div class="g-wp">
			Copyright © 2015-2025 jianfanjia.com All Rights Reserved 武汉家易装科技有限公司 隐私权政策 鄂ICP备15014103号
			</div>
		</div>
	</div>
</body>
</html>
<script type="text/javascript">
	var img_id_upload=[];//初始化数组，存储已经上传的图片名
	var i=0;//初始化数组下标
	$(function() {
	    $('#fileToUpload').uploadify({
	    	'auto'     : false,//关闭自动上传
	    	'removeTimeout' : 1,//文件队列上传完成1秒后删除
	        'swf'      : 'uploadify.swf',
	        'uploader' : RootUrl+'api/v1/image/upload',
	        'method'   : 'post',//方法，服务端可以用$_POST数组获取数据
			'buttonText' : '选择图片',//设置按钮文本
	        'multi'    : true,//允许同时上传多张图片
	        'uploadLimit' : 10,//一次最多只允许上传10张图片
	        'fileTypeDesc' : 'Image Files',//只允许上传图像
	        'fileTypeExts' : '*.gif; *.jpg; *.png',//限制允许上传的图片后缀
	        'fileSizeLimit' : '20000KB',//限制上传的图片不得超过200KB 
	        'onUploadSuccess' : function(file, data, response) {//每次成功上传后执行的回调函数，从服务端返回数据到前端
	        	var data = $.parseJSON(data)
	               img_id_upload[i]=data.data;
	               i++;
	               if(!data.data){
	               		$('#upload').find('img').attr('src',RootUrl+'api/v1/image/'+data.data).data('imgId',data.data)
	               }
	        },
	        'onQueueComplete' : function(queueData) {//上传队列全部完成后执行的回调函数
	           // if(img_id_upload.length>0)
	           // alert('成功上传的文件有：'+encodeURIComponent(img_id_upload));
	        }  
	        // Put your options here
	    });
	});
	var check_step = 0;
	var emptyMsg = {
        "reg_mobile" : "请输入手机号",
        "reg_password": "请输入密码",
        "reg_password_confirm": "请输入确认密码",
        "reg_smscode" : "请输入验证码",
        "reg_agree" : "请先同意注册协议"
    };
    var errMsg = {
        "reg_mobile": "手机号不正确",
        "reg_password": "密码需为6~30个字母或数字",
        "reg_password_confirm": "两次输入的密码不一样",
        "reg_smscode" : "短信验证码不正确"
    };
    //获取对象
    var desName = $("#design-name");
    var captcha = $("#reg-VerifyCode");
    var pass = $("#reg-password");
    var pass2 = $("#reg-password2");
    var status = $('#reg-status');
    var agreement = $("#reg-agreement");















































	function loadList(){
		var url = RootUrl+'api/v1/designer/info';
		$.ajax({
			url:url,
			type: 'GET',
			contentType : 'application/json; charset=utf-8',
			dataType: 'json',
			success: function(res){
				console.log(res)
				$('#design-name').val(res['data']['username'] || "");
				$('#design-mobile').val(res['data']['phone']);
				$('#design-addr').val(res['data']['address']);
				$('#design-sex').find('input[value='+res['data']['sex']+']').attr('checked','checked');
				$('#design-uid').val(res['data']['uid'])
				$('#design-area').empty()
				var designAreaQuery = res['data']['province']+" "+res['data']['city']+" "+res['data']['district'];
				var designArea = new CitySelect({id :'design-area','query':designAreaQuery});
				$('#design-com').val(res['data']['company']);
				$('#design-philosophy').val(res['data']['philosophy']);
				$('#design-achievement').val(res['data']['achievement']);
				$('#design-type').find('input[value='+res['data']['communication_type']+']').attr('checked','checked');
				$('#design-price').find('input[value='+res['data']['design_fee_range']+']').attr('checked','checked');
				$('#decoration-price0').val(res['data']['dec_fee_half'])
				$('#decoration-price1').val(res['data']['dec_fee_all'])
				$('#product-count').html(res['data']['product_count']+'个');
				if(res['data']['auth_type'] == 0){
					$('#auth-box').show();
				}else if(res['data']['auth_type'] == 1){
					$('#auth-box').empty().html('正在认证中，请耐心等待！');
				}else if(res['data']['auth_type'] == 2){
					$('#auth-box').empty().html('认证成功！');
				}
				$.each(res['data']['dec_styles'],function(i,el){
					$('#decoration-style').find('[value='+res['data']['dec_styles'][i]+']').attr('checked','checked')
				});
				$.each(res['data']['dec_types'],function(i,el){
					$('#decoration-type').find('[value='+res['data']['dec_types'][i]+']').attr('checked','checked')
				});
				$.each(res['data']['dec_districts'],function(i,el){
					$('#decoration-area').find('[value='+res['data']['dec_districts'][i]+']').attr('checked','checked')
				});
				if(!!res['data']['imageid']){	
					$('#upload').find('img').attr('src',RootUrl+'api/v1/image/'+res['data']['imageid'])
				}
		   	}
		});
	}
	loadList();
	//表单提交
	$('#design-info').on('submit',function(){
		check_step = 13;
        var url = RootUrl+'api/v1/designer/info';
		/*var userName = $('#design-name').val();
		var userSex = $('#design-sex').find('input:checked').val();
		var userPhone = $('#design-mobile').val();
		var userProv = $('#design-area').find('input[name=design-area0]').val();
		var userCity = $('#design-area').find('input[name=design-area1]').val();
		var userDist = $('#design-area').find('input[name=design-area2]').val();
		var userAddr = $('#design-addr').val();
		var userUid = $('#design-uid').val();
		var userCom = $('#design-com').val();
		var userPhil = $('#design-philosophy').val();
		var userAchi = $('#design-achievement').val();
		var userType = $('#design-type').find('input:checked').val();
		var userDecPrice0 = parseInt($('#decoration-price0').val());
		var userDecPrice1 = parseInt($('#decoration-price1').val());
		var userDesPrice = $('#design-price').find('input:checked').val();
		var userDecDis = [];
		$('#decoration-area').find('input:checked').each(function(){
			userDecDis.push($(this).val())
		})
		var userDecTypes = [];
		$('#decoration-type').find('input:checked').each(function(){
			userDecTypes.push($(this).val())
		})
		var userDecStyles = [];
		$('#decoration-style').find('input:checked').each(function(){
			userDecStyles.push($(this).val())
		})
		var imgId = $('#upload').find('img').data('imgId',data.data) || "";*/
		$.ajax({
			url:url,
			type: 'PUT',
			contentType : 'application/json; charset=utf-8',
			dataType: 'json',
			data : JSON.stringify({
				"username" : userName,
				"sex":userSex,
				"province" : userProv,
				"city" : userCity,
				"district" : userDist,
				"address":userAddr,
				"uid":userUid,
				"company":userCom,
				"dec_types":userDecTypes,
				"dec_styles":userDecStyles,
				"dec_districts":userDecDis,
				"design_fee_range":userDesPrice,
				"dec_fee_half":userDecPrice0,
				"dec_fee_all":userDecPrice1,
				"achievement":userAchi,
				"philosophy":userPhil,
				"communication_type" : userType,
				"imageid" : imgId
			}),
			processData : false,
			success: function(res){
				if(res['msg'] === "success"){
					loadList()
				}else{
					$('#error-info').html(res['err_msg']).removeClass('hide');
				}
		   	}
		});
		return false;
	});
	//认证提交
	$('#auth-submit').on('click',function(){
        var url = RootUrl+'api/v1/designer/auth';
		$.ajax({
			url:url,
			type: 'POST',
			contentType : 'application/json; charset=utf-8',
			dataType: 'json',
			success: function(res){
				if(res['msg'] === "success"){
					loadList()
					alert('认证成功！')
				}else{
					$('#error-info').html(res['err_msg']).removeClass('hide');
				}
		   	}
		});
		return false;
	});

// //点击打开文件选择器  
//     $("#upload").on('click', function() {  
//         $('#fileToUpload').click();  
//     });  
      
//     //选择文件之后执行上传  
//     $('#fileToUpload').on('change', function() {  
//     	var url = RootUrl+'api/v1/image/upload';
//         $.ajaxFileUpload({  
//             url:url,  
//             type : 'PUT',
//             secureuri:false,  
//             contentType : 'application/json; charset=utf-8',
//             fileElementId:'fileToUpload',//file标签的id  
//             dataType: 'json',//返回数据的类型  
//             data:{name:'upfile'},//一同上传的数据  
//             success: function (data, status) {  
//                 //把图片替换  
//                 console.log(data)
//                 var obj = jQuery.parseJSON(data);  
//                 $("#upload").find('img').attr("src", "../image/"+obj.fileName);  
      
//                 if(typeof(data.error) != 'undefined') {  
//                     if(data.error != '') {  
//                         alert(data.error);  
//                     } else {  
//                         alert(data.msg);  
//                     }  
//                 }  
//             },  
//             error: function (data, status, e) {  
//                 alert(e);  
//             }  
//         });  
//     });  

// $("#upload").on('click', function() {  
//    	$('#fileToUpload').click();  
// });  
// $('#fileToUpload').on('change', function() { 
// 		uploadImg('fileToUpload', 'upload')
// })
// function uploadImg(imgfileId, imgcontainerId) {  
// 		var url = RootUrl+'api/v1/image/upload';
//   $.ajaxFileUpload({  
//     fileElementId: imgfileId,  
//     url: url, 
//    type : 'PUT', 
//     dataType: 'json', 
//     contentType : 'application/json; charset=utf-8', 
//     data: { name: 'upfile' },  
//     beforeSend: function (XMLHttpRequest) {  
//       //("loading");  
//     },  
//     success: function (data, textStatus) {  
//       var img = "<img src='' width='300' height='300' />";  
//       $("#" + imgcontainerId).append(img);  
//     },  
//     error: function (XMLHttpRequest, textStatus, errorThrown) {  
//       var img = "图片上传失败！";  
//       $("#" + imgcontainerId).append(img);  
//       var msg = "服务器出错，错误内容：" + XMLHttpRequest.responseText;  
//       $.messager.showWin({ msg: msg, title: '错误提示', color: 'red' });  
//     },  
//     complete: function (XMLHttpRequest, textStatus) {  
//       //("loaded");  
//     }  
//   });  
// }  
// $("#fileToUpload").uploadify({         
// 	height        : 30,         
// 	swf           : '../../static/swf/uploadify.swf',        
// 	uploader      : RootUrl+'api/v1/image/upload',         
// 	width         : 120     
// }); 

/*$("#fileToUpload").uploadify({
     
                'uploader'      : 'uploadify.swf', 

                'script': RootUrl+'api/v1/image/upload',

                'cancelImg': '/',

                'folder': '/',
                'fileDataName' : 'upfile',

                'queueID': 'fileQueue',

                'fileDesc': "请选择png或者jpg格式图片",

                'fileExt': "*.jpg;*.png",

                //        'buttonImg': "../images/upload2.png",

                'auto': false,

                'buttonText': "浏 览",

                'multi': false,

                'onComplete': function (event, queueID, fileObj, response, data) {

                    //把上传图标的地址存到session

                    $.ajax({

                        type: "POST",

                        //dataType:"Text",  

                        url: RootUrl+'api/v1/image/upload',

                        contentType: "application/x-www-form-urlencoded; charset=utf-8",

                        data: { key: "", value: "" + fileObj.name },

                        success: function (msg) {

                            if (msg != "N") {

                                //上次图标后把勾上的系统图标隐藏

                                $(".checks").hide();

                                $("#imgUpload").attr("src", msg);

                                //                        alert("图片：" + fileObj.name + "，上传成功");

                            }

                        }

                    });

                    $("#full_dark").hide();

                    $(".imgLoad2").hide();

                },

                'onError': function (event, queueID, fileObj, errorObj) {

                    if (fileObj.size > "5271521") {

                        alert("请上传5M以下的图片");

                    }

                }

            });





*/









/*
var img_id_upload=new Array();//初始化数组，存储已经上传的图片名

var i=0;//初始化数组下标

window.onload = function(){
	$('#fileToUpload').uploadify({
    	debug : true,
        auto     : false,//关闭自动上传

        removeTimeout : 1,//文件队列上传完成1秒后删除

        swf     : 'uploadify.swf',

        uploader : RootUrl+'api/v1/image/upload',

        method   : 'Post',//方法，服务端可以用$_POST数组获取数据
        settings : 'upfile',

        buttonText : '选择图片',//设置按钮文本

        multi    : true,//允许同时上传多张图片

        uploadLimit : 10,//一次最多只允许上传10张图片

        fileTypeDesc : 'Image Files',//只允许上传图像

        fileTypeExts : '*.gif; *.jpg; *.png',//限制允许上传的图片后缀

        fileSizeLimit : '20000KB',//限制上传的图片不得超过200KB
        onUploadSuccess : function(file, data, response) {//每次成功上传后执行的回调函数，从服务端返回数据到前端
               img_id_upload[i]=data;
               i++;
               console.log('onUploadSuccess'+file);
               console.log('onUploadSuccess'+data);
               alert(response);
        },
        onUploadComplete :  function(file){
        	console.log('onUploadComplete'+file)
        },
        onQueueComplete : function(queueData) {//上传队列全部完成后执行的回调函数
        	console.log(queueData)
           if(img_id_upload.length>0)
            alert('成功上传的文件有：'+encodeURIComponent(img_id_upload));
        } 
    });
}*/
    







</script>

